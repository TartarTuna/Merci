(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34fa34ba"],{2532:function(t,e,a){"use strict";var r=a("23e7"),i=a("5a34"),s=a("1d80"),c=a("ab13");r({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~String(s(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,a){var r=a("861d"),i=a("c6b6"),s=a("b622"),c=s("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==i(t))}},"5a34":function(t,e,a){var r=a("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},8418:function(t,e,a){"use strict";var r=a("c04e"),i=a("9bf2"),s=a("5c6c");t.exports=function(t,e,a){var c=r(e);c in t?i.f(t,c,s(0,a)):t[c]=a}},"99af":function(t,e,a){"use strict";var r=a("23e7"),i=a("d039"),s=a("e8b5"),c=a("861d"),o=a("7b0b"),n=a("50c4"),l=a("8418"),d=a("65f0"),f=a("1dde"),u=a("b622"),p=a("2d00"),g=u("isConcatSpreadable"),v=9007199254740991,C="Maximum allowed index exceeded",m=p>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),h=f("concat"),y=function(t){if(!c(t))return!1;var e=t[g];return void 0!==e?!!e:s(t)},b=!m||!h;r({target:"Array",proto:!0,forced:b},{concat:function(t){var e,a,r,i,s,c=o(this),f=d(c,0),u=0;for(e=-1,r=arguments.length;e<r;e++)if(s=-1===e?c:arguments[e],y(s)){if(i=n(s.length),u+i>v)throw TypeError(C);for(a=0;a<i;a++,u++)a in s&&l(f,u,s[a])}else{if(u>=v)throw TypeError(C);l(f,u++,s)}return f.length=u,f}})},ab13:function(t,e,a){var r=a("b622"),i=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[i]=!1,"/./"[t](e)}catch(r){}}return!1}},caad:function(t,e,a){"use strict";var r=a("23e7"),i=a("4d64").includes,s=a("44d2"),c=a("ae40"),o=c("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!o},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")},eae4:function(t,e,a){"use strict";var r=a("3d20"),i=a.n(r);e["a"]=i.a.mixin({toast:!0,showConfirmButton:!1,timer:1500,padding:"1em",position:"center"})},ed84:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"products"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("section",{staticClass:"productsBanner"}),t.products.length>0?a("div",{staticClass:"container"},[a("div",{staticClass:"categoryTitleArea py-3"},[t.filterCategory?a("p",{staticClass:"mb-0 f-Serif fw-600 fz-5 fz-md-7 text-primaryOp text-center letter-space-4"},[t._v(" "+t._s(t.filterCategory)+" ")]):a("p",{staticClass:"mb-0 f-Serif fw-600 fz-5 fz-md-7 text-primaryOp text-center letter-space-4"},[t._v("所有商品")]),a("p",{staticClass:"f-Serif fz-2 fw-300 text-primary text-center mb-md-6 mb-4 letter-space-3"},[t._v("全天然純手工，美味也能吃得健康無負擔")])]),a("section",{staticClass:"categoryBtns mb-3"},[a("ul",{staticClass:"categories d-flex flex-column flex-md-row justify-content-center align-items-center text-center"},[a("li",{staticClass:"categoryItem bd-b-sm rounded-md-top"},[a("a",{class:{active:""===t.filterCategory},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filterCategory=""}}},[a("i",{staticClass:"categoryIcon fas fa-seedling rounded-md-top",class:{activeEffect:""===t.filterCategory},on:{click:function(e){e.preventDefault(),t.selected=t.filterCategory}}},[t._v(" 所有商品")])])]),a("li",{staticClass:"categoryItem bd-b-sm rounded-md-top"},[a("a",{class:{active:"果醬"===t.filterCategory},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filterCategory="果醬"}}},[a("i",{staticClass:"categoryIcon fas fa-apple-alt rounded-md-top",class:{activeEffect:"果醬"===t.filterCategory},on:{click:function(e){e.preventDefault(),t.selected=t.filterCategory}}},[t._v(" 果醬")])])]),a("li",{staticClass:"categoryItem bd-b-sm rounded-md-top"},[a("a",{class:{active:"餅乾"===t.filterCategory},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filterCategory="餅乾"}}},[a("i",{staticClass:"categoryIcon fas fa-cookie-bite rounded-md-top",class:{activeEffect:"餅乾"===t.filterCategory},on:{click:function(e){e.preventDefault(),t.selected=t.filterCategory}}},[t._v(" 餅乾")])])]),a("li",{staticClass:"categoryItem bd-b-sm rounded-md-top"},[a("a",{class:{active:"糕點"===t.filterCategory},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filterCategory="糕點"}}},[a("i",{staticClass:"categoryIcon fas fa-birthday-cake rounded-md-top",class:{activeEffect:"糕點"===t.filterCategory},on:{click:function(e){e.preventDefault(),t.selected=t.filterCategory}}},[t._v(" 糕點")])])]),a("li",{staticClass:"categoryItem rounded-md-top"},[a("a",{class:{active:"優惠套組"===t.filterCategory},attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.filterCategory="優惠套組"}}},[a("i",{staticClass:"categoryIcon fas fa-gift rounded-md-top",class:{activeEffect:"優惠套組"===t.filterCategory},on:{click:function(e){e.preventDefault(),t.selected=t.filterCategory}}},[t._v(" 優惠套組")])])])])]),a("div",{staticClass:"productList"},[a("ul",{staticClass:"productCards flex-md-row flex-column"},t._l(t.filterCategories,(function(e){return a("li",{key:e.id,staticClass:"productCard"},[a("router-link",{staticClass:"productInfo",attrs:{to:"/product/"+e.id}},[a("div",{staticClass:"productImgWrap"},[a("div",{staticClass:"productImg",style:{backgroundImage:"url("+e.imageUrl[0]+")"}})])]),a("p",{staticClass:"productTitle mt-2 mb-1"},[t._v(t._s(e.title))]),a("div",{staticClass:"productPrice"},[a("del",{staticClass:"delPrice"},[t._v("原價 $"+t._s(e.origin_price))]),a("span",{staticClass:"salePrice"},[t._v("特價 $"+t._s(e.price))])]),a("a",{staticClass:"addCartBtn",attrs:{disabled:t.isProcessing},on:{click:function(a){return a.preventDefault(),t.addToCart(e.id)}}},[e.id===t.status.loadingItem?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v("加入購物車 ")])],1)})),0)])]):t._e()],1)},i=[],s=(a("99af"),a("4de4"),a("caad"),a("2532"),a("eae4")),c={data:function(){return{status:{loadingItem:""},products:[],categories:["果醬","餅乾","糕點","優惠套組"],filterCategory:"",isLoading:!1,isProcessing:!1,selected:""}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this,e="".concat("https://course-ec-api.hexschool.io/api/").concat("0b14219f-1a37-44d4-8d67-88e77b0f312a","/ec/products");this.isLoading=!0,this.$http.get(e).then((function(e){t.products=e.data.data;var a=t.$route.params.categoryName;a&&(t.filterCategory=a),t.isLoading=!1})).catch((function(){s["a"].fire({title:"無法取得資料",icon:"error"}),t.isLoading=!1}))},addToCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.loadingItem=t,this.isProcessing=!0,this.isLoading=!0;var r="".concat("https://course-ec-api.hexschool.io/api/").concat("0b14219f-1a37-44d4-8d67-88e77b0f312a","/ec/shopping"),i={product:t,quantity:a};this.$http.post(r,i).then((function(){e.$bus.$emit("update-total"),e.$bus.$emit("get-cart"),s["a"].fire({title:"加入購物車成功",icon:"success"}),e.status.loadingItem="",e.isProcessing=!1,e.isLoading=!1})).catch((function(t){var a=t.response.data.errors;a&&(s["a"].fire({title:"".concat(a),icon:"warning"}),e.status.loadingItem="",e.isProcessing=!1,e.isLoading=!1)}))}},computed:{filterCategories:function(){var t=this;return this.filterCategory?this.products.filter((function(e){var a=e.category.toLowerCase().includes(t.filterCategory.toLowerCase());return a})):this.products}}},o=c,n=a("2877"),l=Object(n["a"])(o,r,i,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-34fa34ba.6a27233a.js.map